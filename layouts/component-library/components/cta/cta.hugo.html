{{/* 
    Copyright Â© 2025 - 2026 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.

	Note: To support live editing, bookshop components should use a clear path to the provided arguments.
	Therefore, we cannot use the InitArgs partial at this point, and we need to access each argument
	directly. See the docs for more background:
	https://github.com/CloudCannon/bookshop/blob/main/guides/hugo.adoc#passing-data-to-bookshop-components
*/}}

{{/* Main code */}}
{{ $links := slice }}
{{ if and (reflect.IsSlice .links) (gt (len .links) 0) }}
	{{ $links = .links }}
{{ else }}
	{{ with site.Params.modules.bookshop.cta.defaultURL }}
		{{ $links = $links | append (dict "title" (T "contactAction") "url" . "icon" "fas chevron-right") }}
	{{ end }}
{{ end }}

{{ $raw := partial "assets/contact.html" (dict 
	"page"         page
	"orientation"  "horizontal"
	"heading"      .heading
	"contact"      .contact
	"caption-url"  (or .caption_url (index . "caption-url"))
	"illustration" .illustration
	"class"        "contact-img"
	"links"        $links
	"align"        .align
	"order"        .order
	"data"         site.Params.modules.bookshop.cta.section 
) }}

{{ if $raw }}
	{{ partial "utilities/section.html" (dict 
		"component-name" "cta"
		"id"             .id
		"raw"            $raw
		"background"     .background
		"width"          .width
		"justify"        .justify
		"wrapper"        .wrapper
		"fluid"          .fluid
		"theme"          .theme
		"cover"          .cover
		"overlay-mode"   (or .overlay_mode (index . "overlay-mode"))
		"section-class"  (or .section_class (index . "section-class"))
		"bg-class"       (or .bg_class (index . "bg-class"))
	)}}
{{ end }}