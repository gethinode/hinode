{{/* 
    Copyright Â© 2022 - 2025 The Hinode Team / Mark Dumay. All rights reserved.
    Use of this source code is governed by The MIT License (MIT) that can be found in the LICENSE file.
    Visit gethinode.com/license for more details.
*/}}

{{ $error := false }}

{{/* Initialize arguments */}}
{{ $args := partial "utilities/InitArgs.html" (dict "structure" "testimonial"  "args" .Params "group" "shortcode" "named" .IsNamedParams) }}
{{ if or $args.err $args.warnmsg }}
    {{ partial (cond $args.err "utilities/LogErr.html" "utilities/LogWarn.html") (dict 
        "partial"  "shortcodes/testimonial.html" 
        "warnid"   "warn-invalid-arguments"
        "msg"      "Invalid arguments"
        "details"  ($args.errmsg | append $args.warnmsg)
        "file"     page.File
        "position" .Position
    )}}
    {{ $error = $args.err }}
{{- end -}}

{{/* Initialize arguments */}}
{{/* Main code */}}
{{- if not $error -}}
    <div class="testimonial {{ $args.class }}">
        {{ $class := "" }}
        {{ with $args.color }}
            {{ $class = printf "%s text-bg-%s" (partial "utilities/GetBackgroundStyle" (dict "background" .)) . }}
        {{ end }}
        {{- partial "assets/testimonial.html" (dict 
            "page"          .Page
            "content"       .Inner
            "logo"          $args.logo
            "icon"          $args.icon
            "contact"       $args.contact
            "role"          $args.role
            "image"         $args.image
            "url"           $args.url
            "padding"       $args.padding
            "orientation"   $args.orientation
            "show-controls" false
            "link"          $args.link
            "color"         $args.color
            "class"         $class
        ) -}} 
    </div>
{{- end -}}


