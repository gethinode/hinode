# toml-docs-start netlify
[build]
    publish = "exampleSite/public"
    command = """\
        npm i && \
        curl -sLJO "https://github.com/sass/dart-sass/releases/download/${DART_SASS_VERSION}/dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        tar -C "${HOME}/.local" -xf "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        rm "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        export PATH="${HOME}/.local/dart-sass:${PATH}" && \
        git config core.quotepath false && \
        npm run build:example"""

[build.environment]
    DART_SASS_VERSION = "1.89.2"
    HUGO_VERSION = "0.147.9"
    HUGO_ENV = "production"
    HUGO_ENABLEGITINFO = "true"
    NODE_VERSION = "22.13.0"
    NPM_VERSION = "10.9.2"
# toml-docs-end netlify

[context.deploy-preview]
    command = """\
        npm i && \
        curl -sLJO "https://github.com/sass/dart-sass/releases/download/${DART_SASS_VERSION}/dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        tar -C "${HOME}/.local" -xf "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        rm "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        export PATH="${HOME}/.local/dart-sass:${PATH}" && \
        git config core.quotepath false && \
        npm run build:example -- -b $DEPLOY_PRIME_URL"""

[context.branch-deploy]
    command = """\
        npm i && \
        curl -sLJO "https://github.com/sass/dart-sass/releases/download/${DART_SASS_VERSION}/dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        tar -C "${HOME}/.local" -xf "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        rm "dart-sass-${DART_SASS_VERSION}-linux-x64.tar.gz" && \
        export PATH="${HOME}/.local/dart-sass:${PATH}" && \
        git config core.quotepath false && \
        npm run build:example -- -b $DEPLOY_PRIME_URL"""

[dev]
    framework = "#custom"
    command = "npm run start:example"
    targetPort = 1313
    port = 8888
    publish = "public"
    autoLaunch = false

# toml-docs-start plugins
[[plugins]]
    package = "netlify-plugin-hugo-cache-resources"
# toml-docs-end plugins
